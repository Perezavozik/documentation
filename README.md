<p align="center">
  <img src="https://img.shields.io/badge/ФЛНКА-Федеральная%20Лезгинская%20Национально--Культурная%20Автономия-blue?style=for-the-badge" alt="ФЛНКА"/>
</p>

<h1 align="center">🏛️ ФЛНКА — Официальный веб-портал</h1>

<p align="center">
  <b>Федеральная Лезгинская Национально-Культурная Автономия</b>
</p>


---

## 📖 О проекте

**ФЛНКА** — современный мультиязычный веб-портал Федеральной Лезгинской Национально-Культурной Автономии. Платформа объединяет новости, культурные мероприятия, документы, проекты и историю лезгинского народа в едином информационном пространстве.

### 🎯 Основные возможности

- 🌐 **Мультиязычность** — поддержка русского и лезгинского языков
- 📰 **Новостной портал** — интеграция с Telegram-каналом ФЛНКА
- 📚 **Документооборот** — хранение и публикация официальных документов
- 🎭 **Культурные события** — афиша мероприятий и конгрессов
- 🏆 **Премии и награды** — информация о лауреатах и номинантах
- 📊 **Отчётность** — публикация годовых отчётов организации
- 📖 **История и культура** — материалы о лезгинском народе

---

## 📊 UseCase-диаграмма

```
┌─────────────────────────────────────────────────────────────────────────────────────────┐
│                                   ФЛНКА Web Portal                                      │
│                                                                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────────┐    │
│  │                              Публичная часть                                    │    │
│  │                                                                                 │    │
│  │    ╭──────────────────╮      ╭──────────────────╮      ╭──────────────────╮     │    │
│  │    │ Просмотр новостей│      │ Просмотр событий │      │Просмотр конгрессов│    │    │
│  │    ╰────────┬─────────╯      ╰────────┬─────────╯      ╰────────┬─────────╯     │    │
│  │             │                         │                         │               │    │
│  │    ╭────────┴─────────╮      ╭────────┴─────────╮      ╭────────┴─────────╮     │    │
│  │    │Чтение Telegram   │      │ Детали события   │      │ Фотогалерея      │     │    │
│  │    │      ленты       │      ╰──────────────────╯      ╰──────────────────╯     │    │
│  │    ╰──────────────────╯                                                         │    │
│  │                                                                                 │    │
│  │    ╭──────────────────╮      ╭──────────────────╮      ╭──────────────────╮     │    │
│  │    │Просмотр документов│     │  Просмотр отчётов │      │  Поиск по сайту │     │    │
│  │    ╰────────┬─────────╯      ╰────────┬─────────╯      ╰──────────────────╯     │    │
│  │             │                         │                                         │    │
│  │    ╭────────┴─────────╮      ╭────────┴─────────╮                               │    │
│  │    │  Скачать PDF     │      │ Скачать отчёт    │                               │    │
│  │    ╰──────────────────╯      ╰──────────────────╯                               │    │
│  │                                                                                 │    │
│  │    ╭──────────────────╮      ╭──────────────────╮      ╭──────────────────╮     │    │
│  │    │ О нас / История  │      │ Культура / Язык  │      │ Наши проекты     │     │    │
│  │    ╰──────────────────╯      ╰──────────────────╯      ╰──────────────────╯     │    │
│  │                                                                                 │    │
│  │    ╭──────────────────╮      ╭──────────────────╮      ╭──────────────────╮     │    │
│  │    │ Просмотр наград  │      │ Контакты         │      │ Смена языка      │     │    │
│  │    ╰────────┬─────────╯      ╰──────────────────╯      │   (RU / LEZ)     │     │    │
│  │             │                                          ╰──────────────────╯     │    │
│  │    ╭────────┴─────────╮                                                         │    │
│  │    │ Кандидаты наград │                                                         │    │
│  │    ╰──────────────────╯                                                         │    │
│  │                                                                                 │    │
│  │    ╭──────────────────╮      ╭──────────────────╮                               │    │
│  │    │ Обратная связь   │      │ Просмотр медиа   │                               │    │
│  │    │  (отправка формы)│      │   библиотеки     │                               │    │
│  │    ╰──────────────────╯      ╰──────────────────╯                               │    │
│  │                                                                                 │    │
│  └─────────────────────────────────────────────────────────────────────────────────┘    │
│                                                                                         │
│  ┌─────────────────────────────────────────────────────────────────────────────────┐    │
│  │                           Административная панель                               │    │
│  │                                                                                 │    │
│  │    ╭──────────────────╮      ╭──────────────────╮      ╭──────────────────╮     │    │
│  │    │ Управление       │      │ Управление       │      │ Управление       │     │    │
│  │    │   новостями      │      │   событиями      │      │  документами     │     │    │
│  │    ╰──────────────────╯      ╰──────────────────╯      ╰──────────────────╯     │    │
│  │                                                                                 │    │
│  │    ╭──────────────────╮      ╭──────────────────╮      ╭──────────────────╮     │    │
│  │    │ Управление       │      │ Управление       │      │ Управление       │     │    │
│  │    │   отчётами       │      │   конгрессами    │      │   наградами      │     │    │
│  │    ╰──────────────────╯      ╰──────────────────╯      ╰──────────────────╯     │    │
│  │                                                                                 │    │
│  │    ╭──────────────────╮      ╭──────────────────╮      ╭──────────────────╮     │    │
│  │    │ Управление       │      │ Управление       │      │ Просмотр         │     │    │
│  │    │   контентом      │      │   медиатекой     │      │   обращений      │     │    │
│  │    │  (CKEditor 5)    │      ╰──────────────────╯      ╰──────────────────╯     │    │
│  │    ╰──────────────────╯                                                         │    │
│  │                                                                                 │    │
│  │    ╭──────────────────╮      ╭──────────────────╮                               │    │
│  │    │ Управление       │      │ Мониторинг       │                               │    │
│  │    │   переводами     │      │   (Prometheus)   │                               │    │
│  │    ╰──────────────────╯      ╰──────────────────╯                               │    │
│  │                                                                                 │    │
│  └─────────────────────────────────────────────────────────────────────────────────┘    │
│                                                                                         │
└─────────────────────────────────────────────────────────────────────────────────────────┘

                    ┌──────────┐                         ┌─────────────┐
                    │          │                         │             │
                    │ 👤       │                         │ 👨‍💼          │
                    │Посетитель│                         │Администратор│
                    │          │                         │             │
                    └────┬─────┘                         └──────┬──────┘
                         │                                      │
                         │  ┌─────────────────────────────┐     │
                         │  │      Взаимодействие         │     │
                         │  └─────────────────────────────┘     │
                         │                                      │
                         ▼                                      ▼
              ┌──────────────────────┐            ┌──────────────────────┐
              │   Публичная часть    │            │    Admin Panel       │
              │   (Frontend)         │            │    (Django Admin)    │
              └──────────────────────┘            └──────────────────────┘
```

### 🎭 Акторы системы

| Актор | Описание | Права доступа |
|-------|----------|---------------|
| **👤 Посетитель** | Анонимный пользователь сайта | Просмотр публичного контента, отправка обратной связи |
| **👨‍💼 Администратор** | Сотрудник ФЛНКА | Полное управление контентом через админ-панель |

### 📋 Основные сценарии использования

#### Посетитель сайта:
1. **Просмотр новостей** — чтение новостей и Telegram-ленты
2. **Изучение информации** — история, культура, язык лезгинского народа
3. **Просмотр документов** — скачивание официальных документов и отчётов
4. **Просмотр мероприятий** — информация о конгрессах и событиях
5. **Обратная связь** — отправка сообщения через форму
6. **Поиск** — поиск информации по сайту
7. **Смена языка** — переключение между русским и лезгинским языками

#### Администратор:
1. **CRUD операции** — создание, редактирование, удаление контента
2. **Управление медиа** — загрузка изображений и документов
3. **Локализация** — добавление переводов контента
4. **Мониторинг** — просмотр метрик и обращений пользователей

---

## 🏗️ Архитектура проекта

```
┌─────────────────────────────────────────────────────────────────┐
│                         NGINX (Reverse Proxy)                    │
│                              Port 80                             │
└─────────────────┬───────────────────────────────┬───────────────┘
                  │                               │
                  ▼                               ▼
┌─────────────────────────────┐   ┌─────────────────────────────┐
│      Frontend (Next.js)      │   │      Backend (Django)        │
│         Port 3000            │   │         Port 8000            │
│                              │   │                              │
│  • React 19                  │   │  • Django REST Framework     │
│  • TypeScript                │   │  • PostgreSQL                │
│  • Redux Toolkit             │   │  • CKEditor 5                │
│  • Framer Motion             │   │  • Jazzmin Admin             │
│  • next-intl (i18n)          │   │  • django-parler (i18n)      │
└─────────────────────────────┘   └──────────────┬────────────────┘
                                                  │
                                                  ▼
                                  ┌─────────────────────────────┐
                                  │     PostgreSQL Database      │
                                  │          Port 5432           │
                                  └─────────────────────────────┘
                                                  │
                                                  ▼
                                  ┌─────────────────────────────┐
                                  │        Prometheus            │
                                  │      (Мониторинг)            │
                                  └─────────────────────────────┘
```

---

## 🛠️ Технологический стек

### 🔙 Backend

| Технология | Версия | Описание |
|------------|--------|----------|
| **Django** | 4.2 | Основной веб-фреймворк |
| **Django REST Framework** | 3.16+ | REST API |
| **PostgreSQL** | 15 | Реляционная база данных |
| **django-parler** | 2.3+ | Мультиязычность моделей |
| **django-jazzmin** | 2.6+ | Современная админ-панель |
| **django-ckeditor-5** | — | WYSIWYG редактор контента |
| **django-solo** | 2.4+ | Singleton модели |
| **django-prometheus** | 2.3+ | Метрики для мониторинга |
| **drf-yasg** | 1.21+ | Swagger/OpenAPI документация |
| **Gunicorn** | 20.1+ | WSGI HTTP сервер |
| **Pillow** | 11.1+ | Обработка изображений |

### 🎨 Frontend

| Технология | Версия | Описание |
|------------|--------|----------|
| **Next.js** | 15.2 | React фреймворк с SSR/SSG |
| **React** | 19 | UI библиотека |
| **TypeScript** | 5 | Типизация JavaScript |
| **Redux Toolkit** | 2.6+ | Управление состоянием |
| **next-intl** | 4.1+ | Интернационализация |
| **Framer Motion** | 12.23+ | Анимации |
| **Axios** | 1.10+ | HTTP клиент |
| **yet-another-react-lightbox** | 3.24+ | Галерея изображений |

### 🐳 DevOps & Infrastructure

| Технология | Описание |
|------------|----------|
| **Docker** | Контейнеризация |
| **Docker Compose** | Оркестрация контейнеров |
| **NGINX** | Reverse proxy, статика |
| **Prometheus** | Сбор метрик |
| **Node Exporter** | Системные метрики |

---

## 📁 Структура проекта

```
LezgianWebsite2/
├── 📂 backend/                    # Django Backend
│   ├── 📂 config/                 # Настройки проекта
│   │   ├── settings/              # Модульные настройки
│   │   │   ├── base.py            # Базовые настройки
│   │   │   ├── dev.py             # Development
│   │   │   └── prod.py            # Production
│   │   ├── urls.py                # Главные URL маршруты
│   │   └── api_urls/              # API маршруты
│   │
│   ├── 📂 detail_pages_components/  # Основные модули
│   │   ├── events/                # Мероприятия
│   │   ├── awards/                # Награды
│   │   ├── awards_candidate/      # Кандидаты на награды
│   │   ├── society/               # Общество
│   │   ├── history/               # История
│   │   ├── culture/               # Культура
│   │   ├── language/              # Язык
│   │   ├── news_on_main/          # Новости
│   │   └── our_projects/          # Проекты
│   │
│   ├── 📂 content_list/           # Списковый контент
│   │   ├── congresses/            # Конгрессы
│   │   └── partners/              # Партнёры
│   │
│   ├── 📂 about_us/               # О нас
│   ├── 📂 contacts/               # Контакты
│   ├── 📂 documents/              # Документы
│   ├── 📂 reports/                # Отчёты
│   ├── 📂 feedback_form/          # Форма обратной связи
│   ├── 📂 telegram_feed/          # Интеграция с Telegram
│   ├── 📂 media_library/          # Медиатека
│   ├── 📂 search/                 # Поиск по сайту
│   │
│   ├── 📂 entrypoints/            # Docker entrypoint скрипты
│   ├── 📂 media/                  # Загруженные файлы
│   ├── 📂 static/                 # Статические файлы
│   │
│   ├── Dockerfile
│   ├── requirements.txt
│   └── manage.py
│
├── 📂 frontend/                   # Next.js Frontend
│   ├── 📂 src/
│   │   ├── 📂 app/                # Next.js App Router
│   │   │   ├── homepage/          # Главная страница
│   │   │   ├── about/             # О нас
│   │   │   ├── contacts/          # Контакты
│   │   │   ├── congresses/        # Конгрессы
│   │   │   ├── docs/              # Документы
│   │   │   ├── projects/          # Проекты
│   │   │   ├── reports/           # Отчёты
│   │   │   └── (news-pages)/      # Группа новостных страниц
│   │   │
│   │   ├── 📂 widgets/            # UI виджеты
│   │   │   ├── header/            # Шапка сайта
│   │   │   ├── footer/            # Подвал
│   │   │   ├── awards/            # Награды
│   │   │   ├── telegramNews/      # Лента Telegram
│   │   │   ├── feedbackForm/      # Форма обратной связи
│   │   │   ├── partnersSlider/    # Слайдер партнёров
│   │   │   ├── LocaleSwitcher/    # Переключатель языка
│   │   │   └── pagination/        # Пагинация
│   │   │
│   │   ├── 📂 features/           # Бизнес-логика
│   │   │   ├── pageSections/      # Секции страниц
│   │   │   ├── htmlBlock/         # HTML-блоки
│   │   │   └── pageTitle/         # Заголовки
│   │   │
│   │   ├── 📂 shared/             # Общие компоненты
│   │   │   ├── api/               # API клиент
│   │   │   ├── redux/             # Redux store
│   │   │   ├── hooks/             # Custom hooks
│   │   │   └── context/           # React контексты
│   │   │
│   │   ├── 📂 i18n/               # Интернационализация
│   │   └── 📂 styles/             # Глобальные стили
│   │
│   ├── 📂 public/                 # Публичные файлы
│   │   ├── fonts/                 # Шрифты
│   │   └── icons/                 # Иконки
│   │
│   ├── Dockerfile
│   ├── Dockerfile.prod
│   ├── package.json
│   ├── tsconfig.json
│   └── next.config.ts
│
├── 📂 nginx/                      # NGINX конфигурация
│   └── nginx.conf
│
├── docker-compose.yml             # Development окружение
├── docker-compose.prod.yml        # Production окружение
├── prometheus.yml                 # Конфигурация мониторинга
└── README.md
```

---

## 🌍 Поддерживаемые языки

| Код | Язык | Статус |
|-----|------|--------|
| `ru` | 🇷🇺 Русский | ✅ Основной |
| `lez` | 🏔️ Лезгинский | ✅ Поддерживается |

Мультиязычность реализована на обоих уровнях:
- **Backend**: `django-parler` для перевода моделей
- **Frontend**: `next-intl` для интерфейса

---

## 📱 Модули системы

### 📰 Новостной блок
- Интеграция с Telegram-каналом `@flnka`
- Автоматический парсинг постов
- Отображение с изображениями

### 🏛️ Конгрессы
- История проведённых конгрессов
- Фотоотчёты и документы

### 🏆 Награды и премии
- Информация о наградах
- Кандидаты и лауреаты
- Галерея

### 📚 Документы
- Категоризация по типам
- Загрузка и просмотр PDF
- Поиск по документам

### 📊 Отчёты
- Годовые отчёты организации
- Финансовая отчётность

### 🎭 Культура и история
- Материалы о лезгинской культуре
- Исторические статьи
- Информация о языке

---

## 🔧 API Endpoints

API документация доступна по адресу: `/api/swagger/`

### Основные endpoints:

```
GET  /api/v1/news/              # Новости
GET  /api/v1/events/            # Мероприятия
GET  /api/v1/congresses/        # Конгрессы
GET  /api/v1/documents/         # Документы
GET  /api/v1/reports/           # Отчёты
GET  /api/v1/awards/            # Награды
GET  /api/v1/projects/          # Проекты
GET  /api/v1/contacts/          # Контакты
GET  /api/v1/about/             # О нас
GET  /api/v1/telegram-feed/     # Лента Telegram
POST /api/v1/feedback/          # Форма обратной связи
GET  /api/v1/search/            # Поиск
```

---

## 📈 Мониторинг

Проект использует **Prometheus** для сбора метрик:

- Django метрики: `/metrics`
- Node Exporter: системные метрики сервера

Конфигурация в `prometheus.yml`:
```yaml
scrape_configs:
  - job_name: 'django_app'
    metrics_path: /metrics
    static_configs:
      - targets: ['backend:8000']
```

---

## 🔐 Административная панель

Админ-панель доступна по адресу: `/admin/`

Используется **Jazzmin** — современная тема для Django Admin с:
- Адаптивным дизайном
- Кастомизацией меню
- Улучшенным UX

### CKEditor 5
Встроенный WYSIWYG редактор для:
- Форматирования текста
- Вставки изображений
- Встраивания медиа

---

## 🚀 Запуск проекта

### Development (Docker Compose)

```bash
# Клонировать репозиторий
git clone <repository-url>
cd LezgianWebsite2

# Создать .env файл
cp .env.example .env

# Запустить все сервисы
docker-compose up -d

# Применить миграции
docker-compose exec backend python manage.py migrate

# Создать суперпользователя
docker-compose exec backend python manage.py createsuperuser

# Собрать статику
docker-compose exec backend python manage.py collectstatic
```

### Production

```bash
docker-compose -f docker-compose.prod.yml up -d
```

### Доступ к сервисам

| Сервис | URL |
|--------|-----|
| Frontend | http://localhost:3000 |
| Backend API | http://localhost:8000/api/ |
| Admin Panel | http://localhost:8000/admin/ |
| Swagger Docs | http://localhost:8000/api/swagger/ |

---

## 📝 Переменные окружения

```env
# Django
DEBUG=1
SECRET_KEY=your-secret-key
ALLOWED_HOSTS=localhost,127.0.0.1
BASE_URL=http://localhost:8000

# Database
POSTGRES_DB=flnka_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-password
POSTGRES_HOST=db
POSTGRES_PORT=5432

# CKEditor
CKEDITOR_UPLOAD_PATH=uploads/
```

---

## 👥 Разработка

### Код-стайл

**Backend:**
- `ruff` — линтер и форматтер
- `mypy` — статическая типизация
- `pre-commit` — хуки перед коммитом

**Frontend:**
- `ESLint` — линтинг
- `TypeScript` — строгая типизация

### Запуск линтеров

```bash
# Backend
cd backend
ruff check .
mypy .

# Frontend
cd frontend
npm run lint
```

---

## 📄 Лицензия

© 2024-2025 ФЛНКА — Федеральная Лезгинская Национально-Культурная Автономия

---

